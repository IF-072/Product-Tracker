language: java

jdk:
- oraclejdk8

script:
- mvn clean install jacoco:report coveralls:report
- mvn sonar:sonar -Dsonar.analysis.mode=preview
                -Dsonar.github.pullRequest=$PULL_REQUEST_ID
                -Dsonar.github.repository=IF-072/Product-Tracker
                -Dsonar.github.oauth=$GITHUB_TOKEN
                -Dsonar.login=$SONAR_TOKEN

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"

addons:
  sonarqube:
    organization: "dyndyn-github"
    token:
      secure: e4b42b14e2a272475313264e881033f038fd523b
    github_token:
      secure: 598761995054b92f7bcf1b5fe736adb38346c325
    branches:
        - master
        - develop
        - rdyn
        - igorp
        - ikryv
        - nvyn
        - pben
        - vmali
        - opoch
