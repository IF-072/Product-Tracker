language: java

jdk:
- oraclejdk8

before_install:
  - composer self-update -q
  - composer config --global github-oauth.github.com "$GITHUB_TOKEN"

script:
- mvn clean install jacoco:report coveralls:report sonar:sonar

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"

addons:
  sonarqube:
    organization: "dyndyn-github"
    token:
      secure: e4b42b14e2a272475313264e881033f038fd523b
    branches:
        - master
        - develop
        - rdyn

install:
- mvn dependency:go-offline